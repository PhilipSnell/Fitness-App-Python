{% extends "trainerInterface/nav.html" %}
{% block content %}
    <body style="margin-top: 30px;margin-left: 30px;">
        <form action="{% url 'exercises' %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="file"
                   title="Upload excel file"
                   name="excel_file"
                   style="border: 1px solid black; padding: 5px;"
                   required="required">
            <p>
            <input type="submit"
                   style="border: 1px solid green; padding:5px; border-radius: 2px; cursor: pointer;"
                   name="uploadFile">
        </form>
        <form action="#" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ exerciseForm }}

            <input type="submit"
                   style="border: 1px solid green; padding:5px; border-radius: 2px; cursor: pointer;"
                   name="addExercise">
        </form>

    </body>
    <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>Exercise</th>
                    <th>Description</th>
                    <th>Image</th>
                    <th>Video</th>
                    <th>button</th>
                </tr>
            </thead>
            <tbody>

            {% for item in exercises %}
                <tr>

                    <td>
                        {{ item.name }}
                    </td>
                    <td>
                        {{ item.description }}
                    </td>
                    <td id="{{ item.id }}">
                        {% if item.image != "" %}
                        <img src="{% url 'home' %}media/{{ item.image }}" style="width:50px;height:50px;">
                        {% else %}

                        <script>
                            var imgt = document.createElement('img');
                            var utubeID = "{{ item.video }}";
                            utubeID = utubeID.slice(-11);

                            var base = "http://i1.ytimg.com/vi/";
                            var thumbnail = base.concat(utubeID,"/default.jpg");
                            imgt.src = thumbnail;
                            imgt.style = "width:50px;height:50px;";
                            document.getElementById({{ item.id }}).append(imgt);
                        </script>
                        {% endif %}
                    </td>

                    <td>


                        <a href="{{ item.video }}" >{{ item.video }}


                        </a>

                    </td>

                        <td><a href="{% url 'delete_exercise' item.id%}" >delete</a></td>
                </tr>
            {% endfor %}

            </tbody>
        </table>
    </div>

{% endblock content%}